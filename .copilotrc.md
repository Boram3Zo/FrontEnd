# GitHub Copilot Context

## 프로젝트 개요

- **프로젝트명**: 치카쿠 (Chikaku) - 반려동물 산책 앱
- **기술 스택**: Next.js 15, TypeScript, Tailwind CSS
- **아키텍처**: App Router, 컴포넌트 기반 설계

## 코딩 컨벤션

### 폴더 구조

```
app/
├── _components/     # 재사용 가능한 컴포넌트
├── _hooks/         # 커스텀 훅
├── _libs/          # 라이브러리 및 서비스
├── _types/         # TypeScript 타입 정의
├── _utils/         # 유틸리티 함수
├── _constants/     # 상수 정의
└── (auth)/         # 라우트 그룹
```

### 네이밍 규칙

- **컴포넌트**: PascalCase (예: `LoginForm`, `CatCharacter`)
- **훅**: camelCase + use 접두사 (예: `useLoginForm`, `useWalkTracker`)
- **유틸함수**: camelCase (예: `validateEmail`, `formatDate`)
- **타입**: PascalCase (예: `LoginFormData`, `WalkingSession`)

### 컴포넌트 패턴

1. **폼 컴포넌트**:

   - 별도 훅으로 로직 분리 (예: `LoginForm` + `useLoginForm`)
   - `FormField` 컴포넌트 사용으로 일관성 유지
   - 에러 처리 및 로딩 상태 관리

2. **페이지 컴포넌트**:
   - 레이아웃은 `Header` + `main` + `BottomNavigation` 구조
   - 비즈니스 로직은 별도 컴포넌트로 분리

### TypeScript 사용법

- 모든 props에 타입 정의
- API 응답에 대한 타입 정의 (`_types/` 폴더)
- 유니온 타입과 옵셔널 프로퍼티 적극 활용

### 테스트 규칙

- 유닛 테스트: `*.test.ts|tsx` 확장자 사용
- React Testing Library 사용
- 훅 테스트: `@testing-library/react-hooks` 활용
- 모든 서비스 레이어 모킹

### UI/UX 가이드라인

- Tailwind CSS 클래스 사용
- 반응형 디자인 (모바일 퍼스트)
- 일관된 컬러 팔레트: orange/pink 그라디언트
- 아이콘: 이모지 사용 (🐾, 📍, 📷 등)

## 자주 사용하는 패턴

### 1. 폼 처리

```typescript
// 훅에서 폼 상태 관리
const [formData, setFormData] = useState<FormType>({});
const [isLoading, setIsLoading] = useState(false);
const [error, setError] = useState("");

// 유효성 검사 후 API 호출
const handleSubmit = async (e: React.FormEvent) => {
	e.preventDefault();
	const validationError = validateForm(formData);
	if (validationError) {
		setError(validationError);
		return;
	}
	// API 호출 로직
};
```

### 2. API 서비스 패턴

```typescript
export class ApiService {
	static async methodName(data: RequestType): Promise<ResponseType> {
		const response = await fetch(getApiUrl(ENDPOINT), {
			method: "POST",
			headers: { "Content-Type": "application/json" },
			body: JSON.stringify(data),
		});

		if (!response.ok) {
			const errorData = await response.json();
			throw new Error(errorData.message || "요청에 실패했습니다.");
		}

		return response.json();
	}
}
```

### 3. 에러 처리

- try-catch로 에러 캐치
- 사용자 친화적 에러 메시지 표시
- 로딩 상태는 항상 finally에서 해제

## 문서화 프로세스

### 작업 완료 시 문서 생성 규칙

**모든 작업 완료 시 반드시 문서화를 진행해야 합니다.**

1. **문서 타입 결정**:

   - `change`: 기존 기능 수정/개선
   - `refactoring`: 코드 구조 개선
   - `feature`: 완전히 새로운 기능 추가

2. **자동 문서 생성**:

   ```bash
   # 대화형 모드
   npm run docs:create

   # 직접 생성
   npm run docs:create [타입] [제목] [설명?]
   ```

3. **문서 작성 가이드라인**:
   - 변경 사항을 구체적으로 기술
   - 코드 예시 포함
   - Before/After 비교 제공
   - 테스트 방법 명시
   - 사용법 가이드 작성

### 문서 저장 위치

```
docs/
├── changes/       # 기능 변경/수정
├── refactoring/   # 리팩토링
├── features/      # 새 기능
└── templates/     # 문서 템플릿
```

### GitHub Copilot 자동 문서화 규칙

**IMPORTANT**: GitHub Copilot은 모든 작업 완료 시 자동으로 다음을 수행해야 합니다:

1. **작업 타입 자동 판단**: change/refactoring/feature 중 선택
2. **자동 문서 생성**: `npm run docs:create [타입] [제목]` 실행
   - 파일명: `YYYY-MM-DD-HHMM-작업내용.md` 형식으로 자동 생성
   - 예: `2025-09-14-1455-회원가입-메인화면-이동.md`
3. **문서 내용 작성**: 템플릿을 활용하여 상세 내용 작성

### 사용자 요청 예시

작업 완료 후 사용자가 다음과 같이 요청할 수 있습니다:

> "이 작업에 대한 문서를 생성해주세요."  
> "작업 완료 문서화 해주세요."  
> "docs 폴더에 문서 만들어줘."

## 주의사항

- localStorage 사용 시 서버사이드 렌더링 고려
- 이미지 업로드 시 압축 및 최적화 필수
- 지도 API 사용 시 환경변수로 키 관리
- 반응형 디자인에서 터치 이벤트 고려
- **작업 완료 시 반드시 문서화 진행**
